var n,r,e,t,i,o,u,c,a=require("react-native-svg");function s(){return(s=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}!function(n){n.Black="#000000",n.DarkGray="#404040",n.Gray="#808080",n.Silver="#BFBFBF",n.White="#FFFFFF",n.Yellow="#FEFE00",n.Red="#EE0000",n.Orange="#FFA100",n.Blue="#0000F2",n.Green="#00D800",n.Purple="#A83DD9",n.Pink="#F33D7B",n.Transparent="transparent"}(i||(i={})),function(n){n.Black="black",n.DarkGray="darkGray",n.Gray="gray",n.Silver="silver",n.White="white",n.Yellow="yellow",n.Red="red",n.Orange="orange",n.Blue="blue",n.Green="green",n.Purple="purple",n.Pink="pink",n.Transparent="transparent"}(o||(o={})),function(n){n.Black="n",n.DarkGray="d",n.Gray="l",n.Silver="s",n.White="w",n.Yellow="y",n.Red="r",n.Orange="o",n.Blue="b",n.Green="g",n.Purple="m",n.Pink="p",n.Transparent="t"}(u||(u={})),function(n){n.Up="u",n.Down="d",n.Left="l",n.Right="r",n.Back="b",n.Front="f",n.Transparent="t",n.Oriented="o",n.Blank="n"}(c||(c={}));var f,l,p,k=((n={})[o.Black]=i.Black,n[o.DarkGray]=i.DarkGray,n[o.Gray]=i.Gray,n[o.Silver]=i.Silver,n[o.White]=i.White,n[o.Yellow]=i.Yellow,n[o.Red]=i.Red,n[o.Orange]=i.Orange,n[o.Blue]=i.Blue,n[o.Green]=i.Green,n[o.Purple]=i.Purple,n[o.Pink]=i.Pink,n),b=((r={})[u.Black]=i.Black,r[u.DarkGray]=i.DarkGray,r[u.Gray]=i.Gray,r[u.Silver]=i.Silver,r[u.White]=i.White,r[u.Yellow]=i.Yellow,r[u.Red]=i.Red,r[u.Orange]=i.Orange,r[u.Blue]=i.Blue,r[u.Green]=i.Green,r[u.Purple]=i.Purple,r[u.Pink]=i.Pink,r[u.Transparent]=i.Transparent,r),v={u:c.Up,f:c.Front,r:c.Right,d:c.Down,l:c.Left,b:c.Back,t:c.Transparent,o:c.Oriented,n:c.Blank},L=((e={})[c.Up]=0,e[c.Down]=3,e[c.Left]=4,e[c.Right]=1,e[c.Front]=2,e[c.Back]=5,e),y=((t={})[c.Oriented]=o.Gray,t[c.Blank]=i.DarkGray,t[c.Transparent]=o.Transparent,t);!function(n){n[n.U=0]="U",n[n.R=1]="R",n[n.F=2]="F",n[n.D=3]="D",n[n.L=4]="L",n[n.B=5]="B"}(p||(p={}));var w,d=[p.U,p.R,p.F,p.D,p.L,p.B],F=((f={})[p.U]=i.Yellow,f[p.R]=i.Red,f[p.F]=i.Blue,f[p.D]=i.White,f[p.L]=i.Orange,f[p.B]=i.Green,f);(l={})[p.U]=i.Blue,l[p.R]=i.Orange,l[p.F]=i.Green,l[p.D]=i.White,l[p.L]=i.Red,l[p.B]=i.Yellow,function(n){n.F="F",n.U="U",n.R="R",n.L="L",n.D="D",n.B="B",n.M="M",n.E="E",n.S="S",n.X="x",n.Y="y",n.Z="z"}(w||(w={}));var C,R,g,D,S={x:0,y:1,z:2},B=[w.F,w.U,w.R,w.L,w.D,w.B,w.M,w.E,w.S,w.X,w.Y,w.Z],z=[w.X,w.Y,w.Z];function m(n,r){return n.map(function(n,e){return n+r[e]})}function U(n,r){return n.map(function(n){return n*r})}function O(n,r,e){return m(U(m(n,r.map(function(n){return-n})),e),r)}function T(n,r,e){var t=[].concat(n);switch(r){case g.X:t[2]=n[2]*Math.cos(e)-n[1]*Math.sin(e),t[1]=n[2]*Math.sin(e)+n[1]*Math.cos(e);break;case g.Y:t[0]=n[0]*Math.cos(e)+n[2]*Math.sin(e),t[2]=-n[0]*Math.sin(e)+n[2]*Math.cos(e);break;case g.Z:t[0]=n[0]*Math.cos(e)-n[1]*Math.sin(e),t[1]=n[0]*Math.sin(e)+n[1]*Math.cos(e)}return t}function x(n,r,e,t){switch(n){case p.U:return[e,0,r-t];case p.R:return[r,t,e];case p.F:return[e,t,0];case p.D:return[e,r,t];case p.L:return[0,t,r-e];case p.B:return[r-e,t,r];default:throw new Error("Unknown cube face: '"+n+"'")}}function M(n){return/^[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/.exec(n)?"#"+n:b[n]?b[n]:k[n]?k[n]:i.Gray}!function(n){n.Clockwise="",n.CounterClockwise="'",n.Double="2"}(C||(C={})),function(n){n.FL="fl",n.F2L="f2l",n.LL="ll",n.CLL="cll",n.ELL="ell",n.OLL="oll",n.OCLL="ocll",n.OELL="oell",n.COLL="coll",n.OCELL="ocell",n.WV="wv",n.VH="vh",n.ELS="els",n.CLS="cls",n.CMLL="cmll",n.CROSS="cross",n.F2L3="f2l_3",n.F2L2="f2l_2",n.F2LSM="f2l_sm",n.F2L1="f2l_1",n.F2B="f2b",n.LINE="line"}(R||(R={})),function(n){n[n.X=0]="X",n[n.Y=1]="Y",n[n.Z=2]="Z"}(g||(g={}));var E=((D={})[p.U]=[0,-1,0],D[p.R]=[1,0,0],D[p.F]=[0,0,-1],D[p.D]=[0,1,1],D[p.L]=[-1,0,0],D[p.B]=[0,0,1],D);function G(n){return n.map(function(n){return n.join(",")}).join(" ")}var P=function(n){var r,e=n.options,t=void 0;return e.backgroundColor?r=e.backgroundColor:(r="none",t=0),h(a.Rect,s({},e.viewbox,{fill:r,fillOpacity:t}))};function A(n,r){return r[n][2]<-.105}var I=function(n){return h(a.G,{opacity:n.options.cubeOpacity/100,strokeWidth:.1,strokeLinejoin:"round",children:n.children})},W=function(n){return h(a.G,{opacity:n.options.stickerOpacity/100,strokeOpacity:1,strokeWidth:.02,strokeLinejoin:"round",children:n.children})},Y=function(n){return h(a.G,{opacity:1,strokeOpacity:1,strokeWidth:.12/n.cubeSize,strokeLinecap:"round",children:n.children})},X=function(n){var r=n.face,e=n.options,t=r.length-1,i=e.outlineWidth;return h(a.Polygon,{fill:e.cubeColor,stroke:e.cubeColor,points:G([[r[0][0][0]*i,r[0][0][1]*i],[r[t][0][0]*i,r[t][0][1]*i],[r[t][t][0]*i,r[t][t][1]*i],[r[0][t][0]*i,r[0][t][1]*i]])})},Z=function(n){for(var r=n.face,e=n.stickers,t=n.options,i=e.length-1,u=[],c=0;c<i;c++)for(var f=0;f<i;f++){var l=[(e[f][c][0]+e[f+1][c+1][0])/2,(e[f][c][1]+e[f+1][c+1][1])/2,0],p=O(e[f][c],l,.85),k=O(e[f+1][c],l,.85),b=O(e[f+1][c+1],l,.85),v=O(e[f][c+1],l,.85),L=V(r,c,f,t);L!==o.Transparent&&u.push(h(j,s({key:c+","+f},{p1:p,p2:k,p3:b,p4:v},{stickerColor:L,cubeColor:t.cubeColor})))}return h(a.G,{opacity:t.stickerOpacity/100,strokeOpacity:.5,strokeWidth:t.strokeWidth,strokeLinejoin:"round",children:u})},j=function(n){var r=n.p1,e=n.p2,t=n.p3,i=n.p4;return h(a.Polygon,{fill:n.stickerColor,stroke:n.cubeColor,points:G([[r[0],r[1]],[e[0],e[1]],[t[0],t[1]],[i[0],i[1]]])})};function V(n,r,e,t){var u=d.indexOf(n)*(t.cubeSize*t.cubeSize)+(r*t.cubeSize+e);if(!Array.isArray(t.facelets)&&Array.isArray(t.stickerColors))return t.stickerColors.length<=u?o.Black:t.stickerColors[u];if(Array.isArray(t.facelets)){if(t.facelets.length<=u)return i.DarkGray;var c=t.facelets[u];return null!=L[c]?t.colorScheme[L[c]]:y[c]||i.DarkGray}return t.colorScheme[n]||o.Black}var _,N,H,q,J,Q,K,$,nn,rn,en,tn,on,un,cn,an,sn,fn,ln,hn,pn,kn,bn,vn,Ln,yn,wn,dn,Fn,Cn,Rn=function(n){for(var r=n.face,e=n.stickers,t=n.rotations,i=n.options,u=[],c=U(t[r],0),a=U(t[r],.2),f=0;f<i.cubeSize;f++){var l=[(e[f][0][0]+e[f+1][1][0])/2,(e[f][0][1]+e[f+1][1][1])/2,0],p=m(O(e[f][0],l,.94),c),k=m(O(e[f+1][0],l,.94),c),b=m(O(e[f+1][1],l,.94),a),v=m(O(e[f][1],l,.94),a),L=V(r,0,f,i);L!==o.Transparent&&u.push(h(j,s({key:f},{p1:p,p2:k,p3:b,p4:v,stickerColor:L},{cubeColor:i.cubeColor})))}return h(Fragment,null,u)},gn=function(n){var r,e=n.geometry,t=n.arrow,i=e[0].length-1,o=Math.floor(t.s1.n/i),u=t.s1.n%i,c=[(e[t.s1.face][u][o][0]+e[t.s1.face][u+1][o+1][0])/2,(e[t.s1.face][u][o][1]+e[t.s1.face][u+1][o+1][1])/2,0],s=Math.floor(t.s2.n/i),f=t.s2.n%i,l=[(e[t.s1.face][f][s][0]+e[t.s1.face][f+1][s+1][0])/2,(e[t.s1.face][f][s][1]+e[t.s1.face][f+1][s+1][1])/2,0],p=[(c[0]+l[0])/2,(c[1]+l[1])/2,0];if(c=O(c,p,t.scale/10),l=O(l,p,t.scale/10),t.s3){var k=Math.floor(t.s3.n/i),b=t.s3.n%i;r=O(r=[(e[t.s1.face][b][k][0]+e[t.s1.face][b+1][k+1][0])/2,(e[t.s1.face][b][k][1]+e[t.s1.face][b+1][k+1][1])/2,0],p,t.influence/5)}var v=r||c,L=v[1]>l[1]?270:90;l[0]-v[0]!=0&&(L=180*Math.atan((l[1]-v[1])/(l[0]-v[0]))/Math.PI,L=v[0]>l[0]?L+180:L);var y=h(a.Path,{d:"M "+c[0]+","+c[1]+" "+(r?"Q "+r[0]+","+r[1]:"L")+" "+l[0]+","+l[1],fill:"none",stroke:t.color,strokeOpacity:1}),w=h(a.Path,{d:"M 5.77,0.0 L -2.88,5.0 L -2.88,-5.0 L 5.77,0.0 z",translate:[l[0],l[1]],scale:.033/i,rotation:L,fill:t.color,strokeWidth:0,strokeLinejoin:"round"});return h(Fragment,null,y,w)},Dn=function(n){var r,e,t,o,u,c=n.geometry,s=n.options,f=function(n,r){return d.reduce(function(e,t){return r.forEach(function(r){e[t]||(e[t]=[].concat(n[t])),e[t]=T(e[t],r[0],Math.PI*r[1]/180)}),e},{})}(E,s.viewportRotations),l=function(n){return[].concat(d).sort(function(r,e){return n[e][2]-n[r][2]})}(f),k=l.filter(function(n){return!A(n,f)}),b=l.filter(function(n){return A(n,f)}),v=[];return Array.isArray(s.arrows)?v=s.arrows:"string"==typeof s.arrows&&(v="string"!=typeof(u=s.arrows)?[]:u.split(",").map(function(n){return function(n){if("string"!=typeof n)return null;var r=new RegExp("^(([URFDLB])([0-9]+))(([URFDLB])([0-9]+))(([URFDLB])([0-9]+))?(-s([0-9+]))?(-i([0-9+]))?(-(black|dgrey|grey|silver|white|yellow|red|orange|blue|green|purple|pink|[0-9a-fA-F]{6}|[0-9a-fA-F]{3}))?").exec(n);return r?{s1:{face:p[r[2]],n:parseInt(r[3])},s2:{face:p[r[5]],n:parseInt(r[6])},s3:r[7]?{face:p[r[8]],n:parseInt(r[9])}:void 0,color:r[15]?M(r[15]):i.Gray,scale:r[11]?parseInt(r[11]):10,influence:r[13]?parseInt(r[13]):10}:null}(n)}).filter(function(n){return!!n})),h(a.Svg,{width:s.width,height:s.height,viewBox:(r=s.viewbox.x,e=s.viewbox.y,t=s.viewbox.width,o=s.viewbox.height,r+" "+e+" "+t+" "+o)},h(P,{options:s}),s.cubeOpacity<100&&h(Fragment,null,h(I,{options:s},k.map(function(n){return h(X,{face:c[n],options:s})})),k.map(function(n){return h(Z,{face:n,stickers:c[n],options:s})})),h(I,{options:s},b.map(function(n){return h(X,{face:c[n],options:s})})),b.map(function(n){return h(Z,{face:n,stickers:c[n],options:s})}),"plan"===s.view&&h(W,{options:s},[p.R,p.F,p.L,p.B].map(function(n){return h(Rn,{face:n,stickers:c[n],rotations:f,options:s})})),h(Y,{cubeSize:c[0].length-1},v.map(function(n){return h(gn,{geometry:c,arrow:n})})))},Sn=((bn={})[R.FL]=((_={})[p.U]=function(n,r,e){return!1},_[p.D]=function(n,r,e){return!0},_[p.R]=function(n,r,e){return n==e-1},_[p.L]=function(n,r,e){return n==e-1},_[p.F]=function(n,r,e){return n==e-1},_[p.B]=function(n,r,e){return n==e-1},_),bn[R.F2L]=((N={})[p.U]=function(n,r,e){return!1},N[p.D]=function(n,r,e){return!0},N[p.R]=function(n,r,e){return n>0},N[p.L]=function(n,r,e){return n>0},N[p.F]=function(n,r,e){return n>0},N[p.B]=function(n,r,e){return n>0},N),bn[R.LL]=((H={})[p.U]=function(n,r,e){return!0},H[p.D]=function(n,r,e){return!1},H[p.R]=function(n,r,e){return 0==n},H[p.L]=function(n,r,e){return 0==n},H[p.F]=function(n,r,e){return 0==n},H[p.B]=function(n,r,e){return 0==n},H),bn[R.CLL]=((q={})[p.U]=function(n,r,e){return n>0&&r>0&&n<e-1&&r<e-1||(0==n||n==e-1)&&(0==r||r==e-1)},q[p.D]=function(n,r,e){return!1},q[p.R]=function(n,r,e){return 0==n&&(0==r||r==e-1)},q[p.L]=function(n,r,e){return 0==n&&(0==r||r==e-1)},q[p.F]=function(n,r,e){return 0==n&&(0==r||r==e-1)},q[p.B]=function(n,r,e){return 0==n&&(0==r||r==e-1)},q),bn[R.ELL]=((J={})[p.U]=function(n,r,e){return!!(0!=n&&n!=e-1||0!=r&&r!=e-1)},J[p.D]=function(n,r,e){return!1},J[p.R]=function(n,r,e){return 0==n&&r>0&&r<e-1},J[p.L]=function(n,r,e){return 0==n&&r>0&&r<e-1},J[p.F]=function(n,r,e){return 0==n&&r>0&&r<e-1},J[p.B]=function(n,r,e){return 0==n&&r>0&&r<e-1},J),bn[R.OLL]=((Q={})[p.U]=function(n,r,e){return!0},Q[p.D]=function(n,r,e){return!1},Q[p.R]=function(n,r,e){return!1},Q[p.L]=function(n,r,e){return!1},Q[p.F]=function(n,r,e){return!1},Q[p.B]=function(n,r,e){return!1},Q),bn[R.OCLL]=((K={})[p.U]=function(n,r,e){return n>0&&r>0&&n<e-1&&r<e-1||(0==n||n==e-1)&&(0==r||r==e-1)},K[p.D]=function(n,r,e){return!1},K[p.R]=function(n,r,e){return!1},K[p.L]=function(n,r,e){return!1},K[p.F]=function(n,r,e){return!1},K[p.B]=function(n,r,e){return!1},K),bn[R.OELL]=(($={})[p.U]=function(n,r,e){return!!(0!=n&&n!=e-1||0!=r&&r!=e-1)},$[p.D]=function(n,r,e){return!1},$[p.R]=function(n,r,e){return!1},$[p.L]=function(n,r,e){return!1},$[p.F]=function(n,r,e){return!1},$[p.B]=function(n,r,e){return!1},$),bn[R.COLL]=((nn={})[p.U]=function(n,r,e){return!0},nn[p.D]=function(n,r,e){return!1},nn[p.R]=function(n,r,e){return 0==n&&(0==r||r==e-1)},nn[p.L]=function(n,r,e){return 0==n&&(0==r||r==e-1)},nn[p.F]=function(n,r,e){return 0==n&&(0==r||r==e-1)},nn[p.B]=function(n,r,e){return 0==n&&(0==r||r==e-1)},nn),bn[R.OCELL]=((rn={})[p.U]=function(n,r,e){return!0},rn[p.D]=function(n,r,e){return!1},rn[p.R]=function(n,r,e){return 0==n&&r>0&&r<e-1},rn[p.L]=function(n,r,e){return 0==n&&r>0&&r<e-1},rn[p.F]=function(n,r,e){return 0==n&&r>0&&r<e-1},rn[p.B]=function(n,r,e){return 0==n&&r>0&&r<e-1},rn),bn[R.WV]=((en={})[p.U]=function(n,r,e){return!0},en[p.D]=function(n,r,e){return!0},en[p.R]=function(n,r,e){return n>0},en[p.L]=function(n,r,e){return n>0},en[p.F]=function(n,r,e){return n>0},en[p.B]=function(n,r,e){return n>0},en),bn[R.VH]=((tn={})[p.U]=function(n,r,e){return!!(0!=n&&n!=e-1||0!=r&&r!=e-1)},tn[p.D]=function(n,r,e){return!0},tn[p.R]=function(n,r,e){return n>0},tn[p.L]=function(n,r,e){return n>0},tn[p.F]=function(n,r,e){return n>0},tn[p.B]=function(n,r,e){return n>0},tn),bn[R.ELS]=((on={})[p.U]=function(n,r,e){return!!(0!=n&&n!=e-1||0!=r&&r!=e-1)},on[p.D]=function(n,r,e){return 0!=n||r<e-1},on[p.R]=function(n,r,e){return n>0&&(n!=e-1||r>0)},on[p.L]=function(n,r,e){return n>0},on[p.F]=function(n,r,e){return n>0&&(n!=e-1||r<e-1)},on[p.B]=function(n,r,e){return n>0},on),bn[R.CLS]=((un={})[p.U]=function(n,r,e){return!0},un[p.D]=function(n,r,e){return!0},un[p.R]=function(n,r,e){return n>0},un[p.L]=function(n,r,e){return n>0},un[p.F]=function(n,r,e){return n>0},un[p.B]=function(n,r,e){return n>0},un),bn[R.CMLL]=((cn={})[p.U]=function(n,r,e){return!(0!=n&&n!=e-1||0!=r&&r!=e-1)},cn[p.D]=function(n,r,e){return!0},cn[p.R]=function(n,r,e){return n>0||0==r||r==e-1},cn[p.L]=function(n,r,e){return n>0||0==r||r==e-1},cn[p.F]=function(n,r,e){return 0==r||r==e-1},cn[p.B]=function(n,r,e){return 0==r||r==e-1},cn),bn[R.CROSS]=((an={})[p.U]=function(n,r,e){return!1},an[p.D]=function(n,r,e){return!!(0!=n&&n!=e-1||0!=r&&r!=e-1)},an[p.R]=function(n,r,e){return n>0&&r>0&&r<e-1},an[p.L]=function(n,r,e){return n>0&&r>0&&r<e-1},an[p.F]=function(n,r,e){return n>0&&r>0&&r<e-1},an[p.B]=function(n,r,e){return n>0&&r>0&&r<e-1},an),bn[R.F2L3]=((sn={})[p.U]=function(n,r,e){return!1},sn[p.D]=function(n,r,e){return 0==n&&r==e-1||!!(0!=n&&n!=e-1||0!=r&&r!=e-1)},sn[p.R]=function(n,r,e){return n>0&&r<e-1},sn[p.L]=function(n,r,e){return n>0&&r>0&&r<e-1},sn[p.F]=function(n,r,e){return n>0&&r>0},sn[p.B]=function(n,r,e){return n>0&&r>0&&r<e-1},sn),bn[R.F2L2]=((fn={})[p.U]=function(n,r,e){return!1},fn[p.D]=function(n,r,e){return n>0||r>0&&r<e-1},fn[p.R]=function(n,r,e){return n>0&&r>0},fn[p.L]=function(n,r,e){return n>0&&r<e-1},fn[p.F]=function(n,r,e){return n>0&&r>0&&r<e-1},fn[p.B]=function(n,r,e){return n>0},fn),bn[R.F2LSM]=((ln={})[p.U]=function(n,r,e){return!1},ln[p.D]=function(n,r,e){return!!(0!=n&&n!=e-1||0!=r&&r!=e-1)||0==r&&n==e-1||0==n&&r==e-1},ln[p.R]=function(n,r,e){return n>0&&r<e-1},ln[p.L]=function(n,r,e){return n>0&&r<e-1},ln[p.F]=function(n,r,e){return n>0&&r>0},ln[p.B]=function(n,r,e){return n>0&&r>0},ln),bn[R.F2L1]=((hn={})[p.U]=function(n,r,e){return!1},hn[p.D]=function(n,r,e){return 0!==n||r!==e-1},hn[p.R]=function(n,r,e){return n>0&&r>0},hn[p.L]=function(n,r,e){return n>0},hn[p.F]=function(n,r,e){return n>0&&r<e-1},hn[p.B]=function(n,r,e){return n>0},hn),bn[R.F2B]=((pn={})[p.U]=function(n,r,e){return!1},pn[p.D]=function(n,r,e){return 0==r||r==e-1},pn[p.R]=function(n,r,e){return n>0},pn[p.L]=function(n,r,e){return n>0},pn[p.F]=function(n,r,e){return n>0&&(0==r||r==e-1)},pn[p.B]=function(n,r,e){return n>0&&(0==r||r==e-1)},pn),bn[R.LINE]=((kn={})[p.U]=function(n,r,e){return!1},kn[p.D]=function(n,r,e){return r>0&&r<e-1},kn[p.R]=function(n,r,e){return!1},kn[p.L]=function(n,r,e){return!1},kn[p.F]=function(n,r,e){return n>0&&r>0&&r<e-1},kn[p.B]=function(n,r,e){return n>0&&r>0&&r<e-1},kn),bn);!function(n){n[n.Clockwise=0]="Clockwise",n[n.CounterClockwise=1]="CounterClockwise",n[n.Double=2]="Double"}(Cn||(Cn={}));var Bn,zn=function(n,r){return n},mn=function(n,r){return n*r%(r*r+1)},Un=function(n,r){return r*r+1-mn(n,r)},On=function(n,r){return r*r-n+1},Tn=((vn={})[Cn.Clockwise]=Cn.CounterClockwise,vn[Cn.CounterClockwise]=Cn.Clockwise,vn[Cn.Double]=Cn.Double,vn),xn=((Ln={})[g.X]=[p.U,p.B,p.F,p.D],Ln[g.Y]=[p.L,p.B,p.R,p.F],Ln[g.Z]=[p.L,p.U,p.R,p.D],(Fn={})[g.X]=((yn={})[p.U]=zn,yn[p.B]=On,yn[p.F]=zn,yn[p.D]=zn,yn[p.L]=null,yn[p.R]=null,yn),Fn[g.Y]=((wn={})[p.U]=null,wn[p.B]=mn,wn[p.F]=mn,wn[p.D]=null,wn[p.L]=mn,wn[p.R]=mn,wn),Fn[g.Z]=((dn={})[p.U]=mn,dn[p.B]=null,dn[p.F]=null,dn[p.D]=Un,dn[p.L]=zn,dn[p.R]=On,dn),Fn),Mn=function(){function n(n,r){this.cubeSize=n,this.faces={},this.numStickers=this.cubeSize*this.cubeSize,this.clockwiseMapping=[],this.counterClockwiseMapping=[],this.doubleMapping=[],this.faces=r,this.faces||this.initValues();for(var e=1;e<=this.numStickers;e++)this.clockwiseMapping.push(Un(e,n)),this.counterClockwiseMapping.push(mn(e,n)),this.doubleMapping.push(On(e,n))}var r=n.prototype;return r.initValues=function(){var n=this,r=1;d.forEach(function(e){n.faces[e]=[];for(var t=0;t<n.numStickers;t++)n.faces[e].push(r++)})},r.rotateFace=function(n,r){var e=this;switch(r){case Cn.Clockwise:this.faces[n]=this.clockwiseMapping.map(function(r){return e.faces[n][r-1]});break;case Cn.CounterClockwise:this.faces[n]=this.counterClockwiseMapping.map(function(r){return e.faces[n][r-1]});break;case Cn.Double:this.faces[n].reverse()}},r.axisRotation=function(n,r,e,t,i,o){var u=this;void 0===i&&(i=!0),void 0===o&&(o=!1),i||t.reverse();for(var c=t.map(function(n){return u.faces[n].slice()}),a=0;a<this.cubeSize;a++)for(var s=0;s<r;s++)for(var f=this.cubeSize*a+(n+s),l=0;l<t.length;l++){var h=t[l],p=o?t[(l+2)%t.length]:t[(l+1)%t.length],k=xn[e][h](f+1,this.cubeSize)-1,b=xn[e][p](f+1,this.cubeSize)-1;this.faces[h][k]=c[(o?l+2:l+1)%c.length][b]}},r.xLayersRotation=function(n,r,e,t){void 0===r&&(r=!0),void 0===e&&(e=!1),void 0===t&&(t=1),this.axisRotation(n,t,g.X,[p.U,p.F,p.D,p.B],r,e)},r.yLayersRotation=function(n,r,e,t){void 0===r&&(r=!0),void 0===e&&(e=!1),void 0===t&&(t=1),this.axisRotation(n,t,g.Y,[p.L,p.F,p.R,p.B],r,e)},r.zLayersRotation=function(n,r,e,t){void 0===r&&(r=!0),void 0===e&&(e=!1),void 0===t&&(t=1),this.axisRotation(n,t,g.Z,[p.U,p.L,p.D,p.R],r,e)},r.safeSlices=function(n){return n>this.cubeSize?this.cubeSize:n},r.rTurn=function(n,r){void 0===r&&(r=1),this.rotateFace(p.R,n),this.xLayersRotation(this.cubeSize-r,n===Cn.Clockwise,n===Cn.Double,r)},r.lTurn=function(n,r){void 0===r&&(r=1),this.rotateFace(p.L,n),this.xLayersRotation(0,n===Cn.CounterClockwise,n===Cn.Double,r)},r.uTurn=function(n,r){void 0===r&&(r=1),this.rotateFace(p.U,n),this.yLayersRotation(0,n===Cn.Clockwise,n===Cn.Double,r)},r.dTurn=function(n,r){void 0===r&&(r=1),this.rotateFace(p.D,n),this.yLayersRotation(this.cubeSize-r,n===Cn.CounterClockwise,n===Cn.Double,r)},r.fTurn=function(n,r){void 0===r&&(r=1),this.rotateFace(p.F,n),this.zLayersRotation(this.cubeSize-r,n===Cn.Clockwise,n===Cn.Double,r)},r.bTurn=function(n,r){void 0===r&&(r=1),this.rotateFace(p.B,n),this.zLayersRotation(0,n===Cn.CounterClockwise,n===Cn.Double,r)},r.mTurn=function(n){this.cubeSize<2||this.xLayersRotation(1,n===Cn.CounterClockwise,n===Cn.Double,this.cubeSize-2)},r.eTurn=function(n){this.cubeSize<2||this.yLayersRotation(1,n===Cn.CounterClockwise,n===Cn.Double,this.cubeSize-2)},r.sTurn=function(n){this.cubeSize<2||this.zLayersRotation(1,n===Cn.Clockwise,n===Cn.Double,this.cubeSize-2)},r.xTurn=function(n){this.rotateFace(p.R,n),this.rotateFace(p.L,Tn[n]),this.xLayersRotation(0,n===Cn.Clockwise,n===Cn.Double,this.cubeSize)},r.yTurn=function(n){this.rotateFace(p.U,n),this.rotateFace(p.D,Tn[n]),this.yLayersRotation(0,n===Cn.Clockwise,n===Cn.Double,this.cubeSize)},r.zTurn=function(n){this.rotateFace(p.F,n),this.rotateFace(p.B,Tn[n]),this.zLayersRotation(0,n===Cn.Clockwise,n===Cn.Double,this.cubeSize)},r.turn=function(n){var r=this.safeSlices(n.slices);switch(n.move){case w.F:this.fTurn(n.turnType,r);break;case w.B:this.bTurn(n.turnType,r);break;case w.U:this.uTurn(n.turnType,r);break;case w.D:this.dTurn(n.turnType,r);break;case w.R:this.rTurn(n.turnType,r);break;case w.L:this.lTurn(n.turnType,r);break;case w.M:this.mTurn(n.turnType);break;case w.E:this.eTurn(n.turnType);break;case w.S:this.sTurn(n.turnType);break;case w.X:this.xTurn(n.turnType);break;case w.Y:this.yTurn(n.turnType);break;case w.Z:this.zTurn(n.turnType);break;default:throw new Error("Unrecognized move in turn "+JSON.stringify(n))}},n}(),En=/([2-9]+)?([UuFfRrDdLlBbMESxyz])(w)?([2\'])?/g,Gn=((Bn={})[Cn.Clockwise]=Cn.CounterClockwise,Bn[Cn.CounterClockwise]=Cn.Clockwise,Bn[Cn.Double]=Cn.Double,Bn);function Pn(n){if(!n)return[];var r,e=[];do{if(r=En.exec(n)){var t=r[1],i=r[2],o=r[3],u=r[4]||C.Clockwise,c=i===i.toLowerCase()&&-1===z.indexOf(i);c&&(i=i.toUpperCase());var a={move:In(i),turnType:Wn(u),slices:c?2:An(t,o)};e.push(a)}}while(r);return e}function An(n,r){if(r&&!n)return 2;if(!r&&n)throw new Error("Invalid move: Cannot specify num slices if outer block move indicator 'w' is not present");return r||n?parseInt(n):1}function In(n){if(B.indexOf(n)<0)throw new Error("Invalid move ("+n+"): Possible turn faces are [U R F L D B M E S x y z]");return n}function Wn(n){switch(n){case C.Clockwise:return Cn.Clockwise;case C.CounterClockwise:return Cn.CounterClockwise;case C.Double:return Cn.Double;default:throw new Error("Invalid move modifier ("+n+")")}}function Yn(n){for(var r=[],e=0;e<n.length;e++)r.push(v[n.charAt(e)]);return r}var Xn={cubeSize:3,width:128,height:128,viewportRotations:[[g.Y,45],[g.X,-34]],colorScheme:F,cubeColor:o.Black,cubeOpacity:100,stickerOpacity:100,dist:5,outlineWidth:.94,strokeWidth:0,viewbox:{x:-.9,y:-.9,width:1.8,height:1.8}};exports.CubeSvg=function(n){var r=function(n,r){var e;return"string"==typeof(e="string"==typeof r?function(n){var r={},e=function(n){for(var r={},e=(n.indexOf("?")>-1?n.substr(n.indexOf("?")+1):n).split("&"),t=0;t<e.length;t++){var i=e[t].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}return r}(n);return Object.keys(e).forEach(function(n){var t,i=e[n];switch(n){case"pzl":r.cubeSize=parseInt(i)||3;break;case"size":var o=parseInt(i)||250;r.width=o,r.height=o;break;case"view":r.view=i;break;case"stage":r.mask=i;break;case"r":r.viewportRotations=function(n){var r,e=/([xyz]-?[0-9][0-9]?[0-9]?)/g,t=[];do{if(r=e.exec(n)){var i=r[0],o=i.charAt(0),u=i.substr(1);t.push([S[o],parseInt(u)])}}while(r);return t}(i);break;case"alg":r.algorithm=i;break;case"case":r.case=i;break;case"fc":r.stickerColors=function(n){var r=[];if(n.indexOf(",")>-1)n.split(",").forEach(function(n){var e=M(n);e&&r.push(e)});else for(var e=0;e<n.length;e++)r.push(b[n.charAt(e)]);return r}(i);break;case"sch":r.colorScheme=(t=i).indexOf(",")>-1?function(n){var r={},e=n.split(",");return e.length<d.length?F:(d.forEach(function(n,t){if(e.length>t){var i=M(e[t]);i&&(r[n]=k[i]||i)}}),r)}(t):function(n){var r={};return n.length<d.length?F:(d.forEach(function(e,t){n.length>t&&(r[e]=b[n.charAt(t)])}),r)}(t);break;case"bg":r.backgroundColor=i;break;case"cc":r.cubeColor=i;break;case"co":r.cubeOpacity=parseInt(i)||100;break;case"fo":r.stickerOpacity=parseInt(i)||100;break;case"dist":r.dist=parseInt(i)||5;break;case"arw":r.arrows=i;break;case"fd":r.facelets=Yn(i);break;case"ac":console.warn("Currently param 'ac' is unsupported")}}),r}(r):r).facelets&&(e.facelets=Yn(e.facelets)),s({},n,e)}(Xn,n.extraOptions||{}),e=function(n){return"plan"===n.view&&(n.viewportRotations=[[g.X,-90]]),d.reduce(function(r,e){return r[e]=function(n,r){for(var e=function(n,r){for(var e=[],t=0;t<n;t++){e[t]=[];for(var i=0;i<r;i++)e[t][i]=null}return e}(r.cubeSize+1,r.cubeSize+1),t=0;t<=r.cubeSize;t++)for(var i=function(i){var o,u,c=x(n,r.cubeSize,t,i);c=U(c=m(c,[-r.cubeSize/2,-r.cubeSize/2,-r.cubeSize/2]),1/r.cubeSize),r.viewportRotations.forEach(function(n){c=T(c,n[0],Math.PI*n[1]/180)}),c=m(c,[0,0,r.dist]),e[t][i]=c=[(o=c)[0]*(u=r.dist)/o[2],o[1]*u/o[2],o[2]]},o=0;o<=r.cubeSize;o++)i(o);return e}(e,n),r},{})}(r);return r.stickerColors=function(n){var r=n.stickerColors,e=n.mask?function(n,r){var e;if(!Sn[n])throw new Error("invalid masking "+n);for(var t=r*r,i=((e={})[p.U]=[],e[p.F]=[],e[p.R]=[],e[p.D]=[],e[p.L]=[],e[p.B]=[],e),o=function(e){var t=Math.floor(e/r),o=e%r;d.forEach(function(e){i[e].push(Sn[n][e](t,o,r))})},u=0;u<t;u++)o(u);return i}(n.mask,n.cubeSize):null;if(e&&n.maskAlg){var t=new Mn(n.cubeSize,e);Pn(n.maskAlg).forEach(function(n){t.turn(n)}),e=t.faces}r||(r=[].concat.apply([],d.map(function(r){return Array.apply(null,Array(n.cubeSize*n.cubeSize)).map(function(){return n.colorScheme[r]})})));var u=d.reduce(function(t,u){t[u]||(t[u]=[]);for(var c=0;c<n.cubeSize;c++)for(var a=0;a<n.cubeSize;a++){var s=d.indexOf(u)*(n.cubeSize*n.cubeSize)+(c*n.cubeSize+a);t[u][n.cubeSize*c+a]=r.length<=s?o.Black:r[s],e&&!e[u][n.cubeSize*c+a]&&(t[u][n.cubeSize*c+a]=i.DarkGray)}return t},{}),c=new Mn(n.cubeSize,u),a=[];return n.case?a=Pn(n.case).map(function(n){return{turnType:Gn[n.turnType],move:n.move,slices:n.slices}}).reverse():n.algorithm&&(a=Pn(n.algorithm)),a.forEach(function(n){c.turn(n)}),[].concat.apply([],d.map(function(n){return c.faces[n].slice()}))}(r),h(Dn,{geometry:e,options:r})};
//# sourceMappingURL=main.js.map
